import { Meta, Story, Props, Canvas } from '@storybook/addon-docs/blocks'
import { config, withDesign } from 'storybook-addon-designs'

import Modal from '@baserow/modules/core/components/Modal'

<Meta
    title="Baserow/Modal"
    component={Modal}
    parameters={{
        backgrounds: {
            default: 'white',
            values: [
                { name: 'white', value: '#ffffff' },
                { name: 'light', value: '#eeeeee' },
                { name: 'dark', value: '#222222' },
            ],
        },
    }}
    decorators={[withDesign]}
    argTypes={{
        leftSidebar: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        rightSidebar: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        fullScreen: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        wide: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        small: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        tiny: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        closeButton: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: true,
        },
        fullHeight: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        leftSidebarScrollable: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        contentScrollable: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        contentPadding: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: true,
        },
        rightSidebarScrollable: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        canClose: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: true,
        },
        collapsibleRightSidebar: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        right: {
            control: {
                type: 'boolean',
                options: [true, false],
            },
            defaultValue: false,
        },
        actions: {
            defaultValue: '',
        },
        content: {
            defaultValue:
                '<h2 class="modal__title">Simple modal</h2><div class="modal__content">This is a simple modal content</div>',
        },
        sidebar: {
            defaultValue:
                '<div class="modal-sidebar__head"><div class="avatar avatar--rounded avatar--large avatar--blue"><span class="avatar__initials">S</span></div> <div class="modal-sidebar__head-name">Settings</div></div><ul class="modal-sidebar__nav"><li><a class="modal-sidebar__nav-link active"><i class="modal-sidebar__nav-icon iconoir-user"></i>Account</a></li><li><a class="modal-sidebar__nav-link"><i class="modal-sidebar__nav-icon iconoir-lock"></i>Password</a></li><li><a class="modal-sidebar__nav-link"><i class="modal-sidebar__nav-icon iconoir-mail"></i>Email notifications</a></li><li><a class="modal-sidebar__nav-link"><i class="modal-sidebar__nav-icon iconoir-key-alt-plus"></i>Database tokens</a></li><li><a class="modal-sidebar__nav-link"><i class="modal-sidebar__nav-icon iconoir-cancel"></i>Delete account</a></li></ul>',
        },
    }}
/>

# Modal

The Modal is a popup that can be used to display additional information or actions to the user. It can be triggered by a button or other element and can be closed by clicking outside of the modal or by pressing the escape key.

export const Template = (args, { argTypes }) => ({
    components: { Modal },
    props: Object.keys(argTypes),
    methods: {
        openModal() {
            this.$refs.modal.toggle(this.$refs.button)
        },
    },
    template: `<div><Modal ref="modal" v-bind="$props">${args.content}<template #sidebar>${args.sidebar}</template><template #actions>${args.actions}</template></Modal><button ref="button" @click="openModal">open modal</button></div>`,
})

<Canvas>
    <Story name="Simple" args={{}}>
        {Template.bind({})}
    </Story>
    <Story
        name="Left sidebar"
        args={{
            leftSidebar: true,
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Right sidebar"
        args={{
            rightSidebar: true,
        }}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="Right sidebar with actions"
        args={{
            rightSidebar: true,
            actions:
                '<div><a class="row-edit-modal-comments-notification-mode"><i class="iconoir-bell"></i></a></div>',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Example

```javascript
<Modal></Modal>
```

## Props

<Props of={Modal} />
